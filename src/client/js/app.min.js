function getRandomInt(o,t){return Math.floor(Math.random()*(t-o+1))+o}function loginModal(){$(".modal.show").removeClass("show");var o="ask-question";$(".modal-"+o).addClass("show")}function isInView(o){return $(window).scrollTop()>$(o).offset().top/4}$(".js-questions").on("click",".js-follow",function(o){var t=$(this),e=t.data("votes")===!0,s=t.attr("data-id")||!1;if(!t.parent().hasClass("signedin")){$(".modal.show").removeClass("show");var a=$(".modal-"+t.attr("data-modal")),n=t.offset().top-12,l=t.offset().left-16;a.css({top:n,left:l});var i=getRandomInt(0,1),c="",d="";switch(i){case"0":c="Sign up to follow",d="Sign up to follow links and contribute to the Techspeller community.";break;default:c="You seem to like what you see",d="Sign up to follow links and contribute to the Techspeller community."}$("#num_follows").val(parseInt(i)+1),a.find("h5").text(c),a.find(".modal-content p").text(d),a.addClass("show"),o.stopPropagation()}console.log("votes",e),t.parent().hasClass("selected")?$.post("/unfollow/"+s,{link:s},function(o){t.parent().removeClass("selected")}):$.post("/"+(e?"follow":"approve")+"/"+s,{link:s},function(o){t.parent().addClass("selected")})}),$(".js-questions").on("click",".js-delete",function(o){var t=$(this),e=t.attr("data-id")||!1;o.preventDefault(),confirm("Are you sure?")&&$.post("/delete/"+e,{link:e},function(o){$("#q-"+e).remove()})}),$(window).scroll(function(){$(".hand").hasClass("hand")&&isInView($("#bottom"))&&$("#questions").addClass("in-view")}),$(".js-submit").on("click",function(o){$(".ask-question-input").val().length<5,o.preventDefault()}),$(".ask-question-input").keyup(function(o){$(this).val().length>=5?$(".ask").addClass("valid"):$(".ask").removeClass("valid")}),$(function(){$('a[href*="#"]:not([href="#"])').click(function(o){if(window.location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&window.location.hostname===this.hostname){var t=$(this.hash);t=t.length?t:$("[name="+this.hash.slice(1)+"]"),t.length&&($("html, body").animate({scrollTop:t.offset().top},600),o.preventDefault())}})}),$(window).click(function(o){!$(o.target).parents(".modal.show").is(".modal.show")&&$(".modal.show").length>0&&$(".modal.show").removeClass("show")}),$(document).keyup(function(o){27===o.keyCode&&$(".modal.show").removeClass("show")}),$(".modal-activate").click(function(o){$(".modal.show").removeClass("show");var t=$(this).attr("data-modal");$(".modal-"+t).addClass("show"),o.stopPropagation()}),$(".modal .close").click(function(o){$(this).closest(".modal").removeClass("show"),o.stopPropagation()}),$(".modal").on("click",".js-ask-another",function(o){o.preventDefault(),$(this).closest(".modal").removeClass("show"),$("#question").focus()}),$("body").on("click",".js-facebook-share",function(o){o.preventDefault(),FB.ui({method:"share",href:o.currentTarget.href},function(o){})});